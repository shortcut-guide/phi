{
  "version": 3,
  "sources": ["../src/d1Server.ts", "../src/routes/token.ts", "../src/services/token.ts", "../src/routes/products.ts", "../src/config/consoleMessage.ts", "../src/config/messageConfig.ts", "../src/utils/lang.ts", "../src/config/env.ts", "../src/utils/d1.ts", "../src/utils/executeQuery.ts", "../src/models/ProductModel.ts", "../src/controllers/productController.ts", "../src/api/products.ts", "../src/routes/sites.ts", "../src/controllers/sitesController.ts", "../src/api/sites.ts", "../src/views/index.ts"],
  "sourcesContent": ["import type { D1Database } from \"@cloudflare/workers-types\";\n\nimport { Hono } from \"hono\";\nimport { cors } from \"hono/cors\";\nimport { serve } from '@hono/node-server';\nimport { tokenRoutes } from '@/b/routes/token';\nimport { productRoutes } from '@/b/routes/products';\nimport { siteRoutes } from '@/b/routes/sites';\nimport { renderIndex } from \"@/b/views/index\";\n\n// \u30E1\u30A4\u30F3\u30A2\u30D7\u30EA\nconst rootApp = new Hono<{ Bindings: { DB: D1Database } }>();\n\n// \u7BA1\u7406\u7528\u30B5\u30D6\u30A2\u30D7\u30EA\nconst adminApp = new Hono<{ Bindings: { DB: D1Database } }>();\n\n// API\u7528\u30B5\u30D6\u30A2\u30D7\u30EA\nconst apiApp = new Hono<{ Bindings: { DB: D1Database } }>();\n\n// \u2705 CORS \u3092\u6709\u52B9\u5316\nrootApp.use(\n    \"*\",\n    cors({\n        origin: \"*\", // \u2705 \u3059\u3079\u3066\u306E\u30AA\u30EA\u30B8\u30F3\u304B\u3089\u306E\u30A2\u30AF\u30BB\u30B9\u3092\u8A31\u53EF\n        allowMethods: [\"GET\", \"POST\", \"PUT\", \"DELETE\", \"OPTIONS\"],\n        allowHeaders: [\"Content-Type\", \"Authorization\"],\n    })\n);\n\n// Content Security Policy: allow fonts from self and data URIs\nrootApp.use(\"*\", async (c, next) => {\n    c.header(\n        \"Content-Security-Policy\",\n        \"default-src 'self'; font-src 'self' data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self';\"\n    );\n    await next();\n});\n\nrootApp.get(\"/admin\", (c) => c.html(renderIndex()));\nrootApp.route(\"/admin\", adminApp);\nrootApp.route(\"/api\", apiApp);\n\napiApp.route(\"/token\", tokenRoutes);\napiApp.route(\"/products\", productRoutes);\napiApp.route(\"/sites\", siteRoutes);\n\nrootApp.get(\"/admin/\", (c) => c.redirect(\"/admin\", 301));\nrootApp.get(\"/api/token/\", (c) => c.redirect(\"/api/token\", 301));\nrootApp.get('/api/products/', (c) => c.redirect('/api/products', 301));\nrootApp.get('/api/sites/', (c) => c.redirect('/api/sites', 301));\n\nrootApp.notFound((c) => {\n    return c.json({ error: \"Not Found\" }, 404);\n});\n\nconst PORT = Number(process.env.PORT) || 3000;\nconsole.log(`\uD83D\uDE80 Server listening on http://localhost:${PORT}`);\nserve({ fetch: rootApp.fetch, port: PORT });", "import { Hono } from 'hono';\nimport { getToken, saveToken, updateToken, deleteToken } from '@/b/services/token';\n\nexport const tokenRoutes = new Hono<{ Bindings: { DB: D1Database } }>();\n\n// \u2705 \u30C8\u30FC\u30AF\u30F3\u3092\u53D6\u5F97\ntokenRoutes.get('/api/token', async (c) => {\n  try {\n    const token = await getToken(c.env.DB);\n    if (!token || !token.token) {\n      return c.json({ error: '\u30C8\u30FC\u30AF\u30F3\u304C\u5FC5\u8981\u3067\u3059\u3002' }, 400);\n    }\n    return c.json(token);\n  } catch (error) {\n    return c.json({ error: error instanceof Error ? error.message : \"\u30C8\u30FC\u30AF\u30F3\u306E\u53D6\u5F97\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\" }, 500);\n  }\n});\n\n// \u2705 \u30C8\u30FC\u30AF\u30F3\u3092\u4FDD\u5B58\ntokenRoutes.post('/api/token', async (c) => {\n  try {\n    const body = await c.req.json();\n    if (!body || !body.token) {\n      return c.json({ error: '\u30C8\u30FC\u30AF\u30F3\u304C\u5FC5\u8981\u3067\u3059\u3002' }, 400);\n    }\n    await saveToken(c.env.DB, body);\n    return c.json({ status: 'saved' });\n  } catch (error) {\n    return c.json({ error: error instanceof Error ? error.message : \"\u30C8\u30FC\u30AF\u30F3\u306E\u4FDD\u5B58\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\" }, 500);\n  }\n});\n\n// \u2705 \u30C8\u30FC\u30AF\u30F3\u3092\u66F4\u65B0\ntokenRoutes.put('/api/token', async (c) => {\n  try {\n    const body = await c.req.json();\n    if (!body || !body.token) {\n      return c.json({ error: '\u30C8\u30FC\u30AF\u30F3\u304C\u5FC5\u8981\u3067\u3059\u3002' }, 400);\n    }\n    await updateToken(c.env.DB, body);\n    return c.json({ status: 'updated' });\n  } catch (error) {\n    return c.json({ error: error instanceof Error ? error.message : \"\u30C8\u30FC\u30AF\u30F3\u306E\u66F4\u65B0\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\" }, 500);\n  }\n});\n\n// \u2705 \u30C8\u30FC\u30AF\u30F3\u3092\u524A\u9664\ntokenRoutes.delete('/api/token', async (c) => {\n  try {\n    const body = await c.req.json();\n    if (!body || !body.token) {\n      return c.json({ error: '\u30C8\u30FC\u30AF\u30F3\u304C\u5FC5\u8981\u3067\u3059\u3002' }, 400);\n    }\n    await deleteToken(c.env.DB);\n  } catch (error) {\n    return c.json({ error: error instanceof Error ? error.message : \"\u30C8\u30FC\u30AF\u30F3\u306E\u524A\u9664\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\" }, 500);\n  }\n});", "/// <reference types=\"@cloudflare/workers-types\" />\n\n// D1 \u30AF\u30A8\u30EA\u30E9\u30C3\u30D1\u30FC\nexport const getToken = async (db: D1Database) => {\n  return await db.prepare('SELECT * FROM oauth_tokens ORDER BY id DESC LIMIT 1').first();\n};\n\nexport const saveToken = async (\n  db: D1Database,\n  token: { access_token: string; refresh_token: string; expires_at: number },\n) => {\n  await db\n    .prepare(`INSERT INTO oauth_tokens (access_token, refresh_token, expires_at) VALUES (?, ?, ?)`)\n    .bind(token.access_token, token.refresh_token, token.expires_at)\n    .run();\n};\n\nexport const updateToken = async (\n  db: D1Database,\n  token: { access_token: string; refresh_token: string; expires_at: number },\n) => {\n  await db\n    .prepare(\n      `UPDATE oauth_tokens SET access_token = ?, refresh_token = ?, expires_at = ? WHERE id = (SELECT id FROM oauth_tokens ORDER BY id DESC LIMIT 1)`,\n    )\n    .bind(token.access_token, token.refresh_token, token.expires_at)\n    .run();\n};\n\nexport const deleteToken = async (db: D1Database) => {\n  await db.prepare(`DELETE FROM oauth_tokens`).run();\n};", "import { Hono } from 'hono';\nimport { handleGetProducts } from '@/b/api/products';\n\nexport const productRoutes = new Hono();\n\nproductRoutes.get('/', (c) => {\n  console.log('matched GET /api/products \u2192', c.req.path);\n  return handleGetProducts(c);\n});", "export const cMessages = {\r\n    0o1: \"Unknown error\",\r\n    0o2: \"Upload or DB error\",\r\n    0o3: \"Invalid product data\",\r\n    0o4: \"Internal server error\",\r\n    0o5: \"Imgur upload failed\",\r\n}", "export const messages = {\n  passwordReset1: '\u30EA\u30BB\u30C3\u30C8\u30EA\u30F3\u30AF\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F',\n  passwordReset2: '\u30EA\u30BB\u30C3\u30C8\u30EA\u30F3\u30AF\u306F1\u6642\u9593\u6709\u52B9\u3067\u3059',\n  passwordReset3: '\u30EA\u30BB\u30C3\u30C8\u30EA\u30F3\u30AF\u306F\u7121\u52B9\u3067\u3059',\n  ErrorMail1: '\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u304C\u767B\u9332\u3055\u308C\u3066\u3044\u307E\u305B\u3093',\n  ErrorMail2: '\u30E1\u30FC\u30EB\u9001\u4FE1\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F',\n  ErrorMail3: '\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306F\u5FC5\u9808\u3067\u3059',\n  ErrorPasswordReset1: '\u30EA\u30BB\u30C3\u30C8\u51E6\u7406\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F',\n  utilsD1:{\n    ja:{\n      ErrorSITE_DB: 'D1 \u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u304C\u30D0\u30A4\u30F3\u30C9\u3055\u308C\u3066\u3044\u307E\u305B\u3093 (SITE_DB \u304C\u672A\u5B9A\u7FA9)',\n      ErrorSEARCHLOGS_DB: 'D1 \u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u304C\u30D0\u30A4\u30F3\u30C9\u3055\u308C\u3066\u3044\u307E\u305B\u3093 (SEARCHLOGS_DB \u304C\u672A\u5B9A\u7FA9)',\n      ErrorPROFILE_DB: 'D1 \u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u304C\u30D0\u30A4\u30F3\u30C9\u3055\u308C\u3066\u3044\u307E\u305B\u3093 (PROFILE_DB \u304C\u672A\u5B9A\u7FA9)',\n      ErrorPRODUCTS_DB: 'D1 \u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u304C\u30D0\u30A4\u30F3\u30C9\u3055\u308C\u3066\u3044\u307E\u305B\u3093 (PRODUCTS_DB \u304C\u672A\u5B9A\u7FA9)'\n    },\n    en:{\n      ErrorSITE_DB: 'D1 client is not bound (SITE_DB is undefined)',\n      ErrorSEARCHLOGS_DB: 'D1 client is not bound (SEARCHLOGS_DB is undefined)',\n      ErrorPROFILE_DB: 'D1 client is not bound (PROFILE_DB is undefined)',\n      ErrorPRODUCTS_DB: 'D1 client is not bound (PRODUCTS_DB is undefined)'\n    }\n  },\n  searchClient:{\n    ja: {\n      ErrorSearch: '\u5546\u54C1\u691C\u7D22\u306B\u5931\u6557\u3057\u307E\u3057\u305F',\n      ErrorSuggest: '\u30B5\u30B8\u30A7\u30B9\u30C8\u53D6\u5F97\u306B\u5931\u6557\u3057\u307E\u3057\u305F'\n    },\n    en: {\n      ErrorSearch: 'Failed to search products',\n      ErrorSuggest: 'Failed to fetch suggestions'\n    }\n  },\n  api: {\n    sites: {\n      fetchError: {\n        ja: '\u30C7\u30FC\u30BF\u306E\u53D6\u5F97\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002',\n      },\n      validateTitleUrl: {\n        ja: 'title \u3068 url \u306F\u5FC5\u9808\u3067\u3059\u3002',\n      },\n      insertError: {\n        ja: '\u30C7\u30FC\u30BF\u306E\u8FFD\u52A0\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002',\n      },\n      notFound: {\n        ja: '\u30B5\u30A4\u30C8\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3002',\n      },\n      updateError: {\n        ja: '\u30C7\u30FC\u30BF\u306E\u66F4\u65B0\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002',\n      },\n      noUpdateData: {\n        ja: '\u66F4\u65B0\u3059\u308B\u30C7\u30FC\u30BF\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3002',\n      },\n      updateSuccess: {\n        ja: '\u66F4\u65B0\u6210\u529F',\n      },\n      deleteError: {\n        ja: '\u30C7\u30FC\u30BF\u306E\u524A\u9664\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002',\n      },\n      deleteNotFound: {\n        ja: '\u524A\u9664\u3059\u308B\u30C7\u30FC\u30BF\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3002',\n      },\n      deleteSuccessPrefix: {\n        ja: '\u524A\u9664\u6210\u529F: ',\n      },\n    }\n  }\n};", "export function getLang(): \"ja\" | \"en\" {\r\n  // \u30AF\u30A8\u30EA\u30D1\u30E9\u30E1\u30FC\u30BF\r\n  const urlLang = typeof window !== \"undefined\"\r\n    ? new URLSearchParams(window.location.search).get(\"lang\")\r\n    : null;\r\n\r\n  if (urlLang === \"ja\" || urlLang === \"en\") return urlLang;\r\n\r\n  // localStorage\r\n  if (typeof localStorage !== \"undefined\") {\r\n    const storedLang = localStorage.getItem(\"lang\");\r\n    if (storedLang === \"ja\" || storedLang === \"en\") return storedLang;\r\n  }\r\n\r\n  // \u30D6\u30E9\u30A6\u30B6\u306E\u8A00\u8A9E\u8A2D\u5B9A\r\n  if (typeof navigator !== \"undefined\") {\r\n    const browserLang = navigator.language.slice(0, 2);\r\n    if (browserLang === \"ja\" || browserLang === \"en\") return browserLang;\r\n  }\r\n\r\n  // \u30C7\u30D5\u30A9\u30EB\u30C8\r\n  return \"ja\";\r\n}\r\n", "// backend/src/config/env.ts\nimport { config } from 'dotenv';\nimport { resolve } from 'path';\n\n// \u74B0\u5883\u306B\u5FDC\u3058\u305F .env \u30D5\u30A1\u30A4\u30EB\u3092\u9078\u629E\nconst ENV = process.env.NODE_ENV || 'develop';\nconst envFile = resolve(process.cwd(), `.env.${ENV}`);\n\n// .env \u30D5\u30A1\u30A4\u30EB\u3092\u8AAD\u307F\u8FBC\u3080\nconfig({ path: envFile });\n\nconst required = (key: string): string => {\n  const value = process.env[key];\n  if (!value) throw new Error(`Missing environment variable: ${key}`);\n  return value;\n};\n\nexport const PORT = process.env.PORT || 3000;\nexport const NODE_ENV = ENV;\nexport const SITE_DB = required(\"CLOUDFLARE_D1_DATABASE_SITES\");\nexport const SEARCHLOGS_DB = required(\"CLOUDFLARE_D1_DATABASE_SEARCH_LOGS\");\nexport const PRODUCTS_DB = required(\"CLOUDFLARE_D1_DATABASE_PRODUCTS\");\nexport const PROFILE_DB = required(\"CLOUDFLARE_D1_DATABASE_PROFILE\");\nexport const PUP_DB = required(\"CLOUDFLARE_D1_DATABASE_PUP\");\nexport const PAYPAL_CLIENT_ID = required(\"PAYPAL_CLIENT_ID\");\nexport const PAYPAL_SECRET = required(\"PAYPAL_SECRET\");\nexport const PAYPAL_API_BASE = required(\"PAYPAL_API_BASE\");\nexport const IMGUR_CLIENT_ID = required(\"IMGUR_CLIENT_ID\");", "import { D1Database } from '@cloudflare/workers-types';\nimport { messages } from \"@/b/config/messageConfig\";\nimport { getLang } from \"@/b/utils/lang\";\n\nimport { SITE_DB, SEARCHLOGS_DB, PROFILE_DB, PRODUCTS_DB } from \"@/b/config/env\";\n\nconst lang = getLang();\nconst t = messages.utilsD1?.[lang];\n\nlet DB: D1Database;\n\n// Cloudflare D1 \u306B\u63A5\u7D9A\u3059\u308B\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u3092\u53D6\u5F97\u3059\u308B\nexport const getD1Site = (): D1Database => {\n  // @ts-ignore - D1 \u306F Cloudflare Worker \u4E0A\u3067\u81EA\u52D5\u3067\u30D0\u30A4\u30F3\u30C9\u3055\u308C\u308B\n  DB = SITE_DB;\n  if (!DB) throw new Error(t.ErrorSITE_DB);\n  return DB;\n};\n\nexport const getD1SearchLogs = (): D1Database => {\n  // @ts-ignore - D1 \u306F Cloudflare Worker \u4E0A\u3067\u81EA\u52D5\u3067\u30D0\u30A4\u30F3\u30C9\u3055\u308C\u308B\n  DB = SEARCHLOGS_DB;\n  if (!DB) throw new Error(t.ErrorSEARCHLOGS_DB);\n  return DB;\n};\n\nexport const getD1UserProfile = (): D1Database => {\n  // @ts-ignore - D1 \u306F Cloudflare Worker \u4E0A\u3067\u81EA\u52D5\u3067\u30D0\u30A4\u30F3\u30C9\u3055\u308C\u308B\n  DB = PROFILE_DB;\n  if (!DB) throw new Error(t.ErrorPROFILE_DB);\n  return DB;\n};\n\nexport const getD1Product = (): D1Database => {\n  // @ts-ignore - D1 \u306F Cloudflare Worker \u4E0A\u3067\u81EA\u52D5\u3067\u30D0\u30A4\u30F3\u30C9\u3055\u308C\u308B\n  DB = PRODUCTS_DB;\n  if (!DB) throw new Error(t.ErrorPRODUCTS_DB);\n  return DB;\n};", "export async function executeQuery<T = Record<string, unknown>>(\n  db: D1Database, // \u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u3092\u5F15\u6570\u3068\u3057\u3066\u53D7\u3051\u53D6\u308B\n  query: string,\n  bindings: any[] = [],\n  isSelect = false\n): Promise<T[] | D1Result> {\n  const stmt = db.prepare(query).bind(...bindings);\n  if (isSelect) {\n    const result = await stmt.all();\n    return result.results as T[];\n  } else {\n    return await stmt.run();\n  }\n}", "import { getD1Product } from \"@/b/utils/d1\";\nimport { executeQuery } from \"@/b/utils/executeQuery\";\nimport { Product } from \"@/b/types/product\";\n\nexport async function getProducts() {\n  const db = getD1Product();\n  return await executeQuery<Product>(db, \"SELECT * FROM products\", [], true);\n}\n\nexport async function createProduct(product: Product) {\n  const db = getD1Product();\n  const query = `\n    INSERT INTO products (id, name, shop_name, platform, base_price, ec_data)\n    VALUES (?, ?, ?, ?, ?, ?)`;\n  const bindings = [\n    product.id,\n    product.name,\n    product.shop_name,\n    product.platform,\n    product.base_price,\n    product.ec_data,\n  ];\n  return await executeQuery(db, query, bindings);\n}\n\nexport async function updateProduct(product: Product) {\n  const db = getD1Product();\n  const query = `\n    UPDATE products SET\n      name = ?, shop_name = ?, platform = ?, base_price = ?, ec_data = ?, updated_at = CURRENT_TIMESTAMP\n    WHERE id = ?`;\n  const bindings = [\n    product.name,\n    product.shop_name,\n    product.platform,\n    product.base_price,\n    product.ec_data,\n    product.id,\n  ];\n  return await executeQuery(db, query, bindings);\n}\n\nexport async function deleteProduct(id: string) {\n  const db = getD1Product();\n  const query = \"DELETE FROM products WHERE id = ?\";\n  return await executeQuery(db, query, [id]);\n}\n\nexport async function getFilteredProducts(\n  {\n    shop,\n    limit,\n    ownOnly,\n  }: {\n    shop?: string;\n    limit: number;\n    ownOnly: boolean;\n  }\n) {\n\n  const db = getD1Product();\n  let query = \"SELECT * FROM products\";\n  const conditions: string[] = [];\n  const bindings: any[] = [];\n\n  if (ownOnly) {\n    conditions.push(\"shop_name = ?\");\n    bindings.push(\"\u81EA\u793E\");\n  }\n\n  if (shop) {\n    conditions.push(\"site_name = ?\");\n    bindings.push(shop);\n  }\n\n  if (conditions.length > 0) {\n    query += \" WHERE \" + conditions.join(\" AND \");\n  }\n  query += \" ORDER BY updated_at DESC LIMIT ?\";\n  bindings.push(limit);\n\n  return await executeQuery<Product>(db, query, bindings, true);\n}\n\nexport async function upsertProduct(product: Product) {\n  const db = getD1Product();\n  const query = `\n    INSERT INTO products (id, name, shop_name, platform, base_price, ec_data)\n    VALUES (?, ?, ?, ?, ?, ?)\n    ON CONFLICT(id) DO UPDATE SET\n      name = excluded.name,\n      shop_name = excluded.shop_name,\n      platform = excluded.platform,\n      base_price = excluded.base_price,\n      ec_data = excluded.ec_data,\n      updated_at = CURRENT_TIMESTAMP\n  `;\n  const bindings = [\n    product.id,\n    product.name,\n    product.shop_name,\n    product.platform,\n    product.base_price,\n    product.ec_data,\n  ];\n  return await executeQuery(db, query, bindings);\n}\n", "// backend/controllers/productController.ts\r\nimport type { Context } from \"hono\";\r\nimport type { APIRoute, APIContext } from \"astro\";\r\nimport type { Product } from \"@/b/types/product\";\r\n\r\nimport { cMessages } from \"@/b/config/consoleMessage.ts\";\r\n\r\nimport { createProduct, updateProduct, deleteProduct, getFilteredProducts } from \"@/b/models/ProductModel\";\r\nimport { validateProduct } from \"@/b/utils/validateProduct\";\r\n\r\n/**d\r\n * Parse and validate the request body\r\n */\r\nasync function parseAndValidateRequestBody(request: Request): Promise<Product> {\r\n  const body: any = await request.json();\r\n\r\n  if (typeof body !== \"object\" || body === null) {\r\n    throw new Error(\"Invalid request body: expected an object\");\r\n  }\r\n\r\n  const id = crypto.randomUUID();\r\n  const product: Product = {\r\n    id,\r\n    name: body.name ?? \"Unknown Product\",\r\n    shop_name: body.shop_name ?? \"Unknown Shop\",\r\n    platform: body.platform ?? \"Unknown Platform\",\r\n    base_price: body.base_price ?? 0,\r\n    ec_data: typeof body.ec_data === \"string\" ? body.ec_data : JSON.stringify(body.ec_data ?? {}),\r\n  };\r\n\r\n  if (!validateProduct(product)) {\r\n    throw new Error(cMessages[2]); // Invalid product data\r\n  }\r\n\r\n  return product;\r\n}\r\n\r\n/**\r\n * Handle POST requests for creating a product\r\n */\r\nexport const POST: APIRoute = async ({ request }: { request: Request }) => {\r\n  try {\r\n    const product = await parseAndValidateRequestBody(request);\r\n    await createProduct(product);\r\n\r\n    return new Response(JSON.stringify({ status: \"success\", message: cMessages[1] }), {\r\n      status: 201,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  } catch (error) {\r\n    if (error instanceof Error) {\r\n      console.error(\"[POST /product] Error:\", error.message);\r\n      const message = error.message || cMessages[4]; // Internal server error\r\n      return new Response(JSON.stringify({ status: \"error\", message }), {\r\n        status: error.message === cMessages[2] ? 400 : 500,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n    } else {\r\n      console.error(\"[POST /product] Error:\", error);\r\n      return new Response(JSON.stringify({ status: \"error\", message: cMessages[4] }), {\r\n        status: 500,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Handle PUT requests for updating a product\r\n */\r\nexport const PUT: APIRoute = async ({ request, params }: APIContext) => {\r\n  try {\r\n    const body: any = await request.json();\r\n\r\n    const id = params.id; // \u578B\u3092 Record<string, string | undefined> \u306B\u5BFE\u5FDC\r\n    if (!id) {\r\n      return new Response(JSON.stringify({ status: \"error\", message: \"Product ID is required\" }), {\r\n        status: 400,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n    }\r\n\r\n    if (typeof body !== \"object\" || body === null) {\r\n      return new Response(JSON.stringify({ status: \"error\", message: \"Invalid request body: expected an object\" }), {\r\n        status: 400,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n    }\r\n\r\n    // Construct a complete Product object\r\n    const product: Product = {\r\n      id,\r\n      name: body.name ?? \"Unknown Product\",\r\n      shop_name: body.shop_name ?? \"Unknown Shop\",\r\n      platform: body.platform ?? \"Unknown Platform\",\r\n      base_price: body.base_price ?? 0,\r\n      ec_data: typeof body.ec_data === \"string\" ? body.ec_data : JSON.stringify(body.ec_data ?? {}),\r\n    };\r\n\r\n    if (!validateProduct(product)) {\r\n      return new Response(JSON.stringify({ status: \"error\", message: cMessages[2] }), {\r\n        status: 400,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n    }\r\n\r\n    await updateProduct(product);\r\n\r\n    return new Response(JSON.stringify({ status: \"success\", message: cMessages[1] }), {\r\n      status: 200,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  } catch (error) {\r\n    console.error(\"[PUT /product/:id] Error:\", error instanceof Error ? error.message : error);\r\n    return new Response(JSON.stringify({ status: \"error\", message: cMessages[4] }), {\r\n      status: 500,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Handle DELETE requests for deleting a product\r\n */\r\nexport const DELETE: APIRoute = async ({ params }: APIContext) => {\r\n  try {\r\n    const id = params.id; // \u578B\u3092 Record<string, string | undefined> \u306B\u5BFE\u5FDC\r\n    if (!id) {\r\n      return new Response(JSON.stringify({ status: \"error\", message: \"Product ID is required\" }), {\r\n        status: 400,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n    }\r\n\r\n    await deleteProduct(id);\r\n\r\n    return new Response(JSON.stringify({ status: \"success\", message: cMessages[1] }), {\r\n      status: 200,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  } catch (error) {\r\n    console.error(\"[DELETE /product/:id] Error:\", error instanceof Error ? error.message : error);\r\n    return new Response(JSON.stringify({ status: \"error\", message: cMessages[4] }), {\r\n      status: 500,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Handle GET requests for filtered products using Hono\r\n */\r\nexport async function handleGetFilteredProducts(c: Context): Promise<Response> {\r\n  try {\r\n    // \u30AF\u30A8\u30EA\u30D1\u30E9\u30E1\u30FC\u30BF\u3092\u53D6\u5F97\r\n    const shop = c.req.query(\"shop\") ?? undefined;\r\n    const limit = Number(c.req.query(\"limit\") ?? 100);\r\n    const ownOnly = c.req.query(\"ownOnly\") === \"true\";\r\n\r\n    // \u30E2\u30C7\u30EB\u304B\u3089\u30C7\u30FC\u30BF\u3092\u53D6\u5F97\r\n    const results = await getFilteredProducts({ shop, limit, ownOnly });\r\n\r\n    // \u6210\u529F\u30EC\u30B9\u30DD\u30F3\u30B9\u3092\u8FD4\u3059\r\n    return c.json(results, 200);\r\n  } catch (error) {\r\n    console.error(\"[GET /products] Error:\", error instanceof Error ? error.message : error);\r\n\r\n    // \u30A8\u30E9\u30FC\u30EC\u30B9\u30DD\u30F3\u30B9\u3092\u8FD4\u3059\r\n    return c.json({ status: \"error\", message: cMessages[4] }, 500); // Internal server error\r\n  }\r\n}\r\n", "import { handleGetFilteredProducts } from \"@/b/controllers/productController\";\nimport type { Context } from \"hono\";\n\nexport async function handleGetProducts(c: Context): Promise<Response> {\n  return await handleGetFilteredProducts(c);\n}", "import { Hono } from 'hono';\nimport { handleGetSites, handleGetSiteById, handleCreateSite, handleUpdateSite, handleDeleteSite } from '@/b/api/sites';\n\nexport const siteRoutes = new Hono();\n\nsiteRoutes.get('/', handleGetSites); // GET /sites\nsiteRoutes.get('/:id', handleGetSiteById); // GET /sites/:id\nsiteRoutes.post('/', handleCreateSite); // POST /sites\nsiteRoutes.put('/:id', handleUpdateSite); // PUT /sites/:id\nsiteRoutes.delete('/:id', handleDeleteSite); // DELETE /sites/:id", "import type { Context } from \"hono\";\nimport type { APIRoute, APIContext } from \"astro\";\nimport type { Site } from \"@/b/types/site\";\n\nimport { cMessages } from \"@/b/config/consoleMessage.ts\";\n\n\n/**\n * Handle GET requests for filtered sites\n */\nexport async function handleGetFilteredSites(c: Context): Promise<Response> {\n  try {\n    const limit = Number(c.req.query(\"limit\") ?? 100);\n    const orderBy = c.req.query(\"orderBy\") ?? \"createdAt\";\n\n    const { results } = await c.env.DB.prepare(\n      `SELECT * FROM sites ORDER BY ${orderBy} DESC LIMIT ?`\n    )\n      .bind(limit)\n      .all();\n\n    return c.json(results, 200);\n  } catch (error) {\n    console.error(\"[GET /sites] Error:\", error instanceof Error ? error.message : error);\n    return c.json({ status: \"error\", message: cMessages[4] }, 500);\n  }\n}\n\n/**\n * Handle GET requests for a single site by ID\n */\nexport async function handleGetSiteByIdFromController(c: Context): Promise<Response> {\n  try {\n    const id = c.req.param(\"id\");\n    const { results } = await c.env.DB.prepare(`SELECT * FROM sites WHERE id = ?`).bind(id).all();\n\n    if (!results || results.length === 0) {\n      return c.json({ status: \"error\", message: \"Site not found\" }, 404);\n    }\n\n    return c.json(results[0], 200);\n  } catch (error) {\n    console.error(\"[GET /sites/:id] Error:\", error instanceof Error ? error.message : error);\n    return c.json({ status: \"error\", message: cMessages[4] }, 500);\n  }\n}\n\n/**\n * Handle POST requests for creating a site\n */\nexport async function handleCreateSiteInController(c: Context): Promise<Response> {\n  try {\n    const body = await c.req.json();\n    const { name, url } = body;\n\n    if (!name || !url) {\n      return c.json({ status: \"error\", message: \"Missing required fields\" }, 400);\n    }\n\n    await c.env.DB.prepare(`INSERT INTO sites (name, url) VALUES (?, ?)`).bind(name, url).run();\n\n    return c.json({ status: \"success\", message: \"Site created successfully\" }, 201);\n  } catch (error) {\n    console.error(\"[POST /sites] Error:\", error instanceof Error ? error.message : error);\n    return c.json({ status: \"error\", message: cMessages[4] }, 500);\n  }\n}\n\n/**\n * Handle PUT requests for updating a site\n */\nexport async function handleUpdateSiteInController(c: Context): Promise<Response> {\n  try {\n    const id = c.req.param(\"id\");\n    const body = await c.req.json();\n    const { name, url } = body;\n\n    if (!name || !url) {\n      return c.json({ status: \"error\", message: \"Missing required fields\" }, 400);\n    }\n\n    await c.env.DB.prepare(`UPDATE sites SET name = ?, url = ? WHERE id = ?`).bind(name, url, id).run();\n\n    return c.json({ status: \"success\", message: \"Site updated successfully\" }, 200);\n  } catch (error) {\n    console.error(\"[PUT /sites/:id] Error:\", error instanceof Error ? error.message : error);\n    return c.json({ status: \"error\", message: cMessages[4] }, 500);\n  }\n}\n\n/**\n * Handle DELETE requests for deleting a site\n */\nexport async function handleDeleteSiteInController(c: Context): Promise<Response> {\n  try {\n    const id = c.req.param(\"id\");\n\n    await c.env.DB.prepare(`DELETE FROM sites WHERE id = ?`).bind(id).run();\n\n    return c.json({ status: \"success\", message: \"Site deleted successfully\" }, 200);\n  } catch (error) {\n    console.error(\"[DELETE /sites/:id] Error:\", error instanceof Error ? error.message : error);\n    return c.json({ status: \"error\", message: cMessages[4] }, 500);\n  }\n}", "import { handleGetFilteredSites, handleGetSiteByIdFromController, handleCreateSiteInController, handleUpdateSiteInController, handleDeleteSiteInController } from \"@/b/controllers/sitesController\";\nimport type { Context } from \"hono\";\n\nexport async function handleGetSites(c: Context): Promise<Response> {\n  return await handleGetFilteredSites(c);\n}\n\nexport async function handleGetSiteById(c: Context): Promise<Response> {\n  return await handleGetSiteByIdFromController(c);\n}\n\nexport async function handleCreateSite(c: Context): Promise<Response> {\n  return await handleCreateSiteInController(c);\n}\n\nexport async function handleUpdateSite(c: Context): Promise<Response> {\n  return await handleUpdateSiteInController(c);\n}\n\nexport async function handleDeleteSite(c: Context): Promise<Response> {\n  return await handleDeleteSiteInController(c);\n}", "export function renderIndex(): string {\n  return `<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Phis</title>\n  <meta http-equiv=\"Content-Security-Policy\"\n        content=\"default-src 'self'; font-src 'self' data:; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self';\">\n  <style>\n    body { font-family: sans-serif; margin: 2rem; }\n  </style>\n</head>\n<body>\n  <h1>\u2705 Phis is running</h1>\n  <p>You can now access your API endpoints.</p>\n</body>\n</html>`;\n}"],
  "mappings": "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",
  "names": ["Hono", "Hono", "Hono", "Hono", "Hono", "Hono", "PORT"]
}
